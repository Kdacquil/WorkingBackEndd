import{a as rt}from"./chunk-CAGNVAZT.js";import{A as he,B as fe,Ba as Nn,C as Te,Ca as Un,D as oe,Da as jn,E as En,Ea as jt,F as Pe,Fa as Bt,G as wn,Ga as Bn,H as pe,Ha as Ln,Ia as Gn,J as v,K as h,Ka as Hn,L as ke,M as me,N as k,O as Ne,P as Dn,Q as N,R as Rt,S as d,Sa as $n,T as c,U as se,V as Ft,W as V,X as Q,a as yn,aa as f,b as vn,ba as Tt,ca as q,d as H,e as St,ea as Mn,f as Y,fa as xn,g as bn,ga as An,ha as W,i as Cn,ia as Vn,ja as Pt,ka as kt,la as ge,ma as z,na as Nt,p as Re,pa as In,q as et,qa as On,r as $,s as Z,t as ie,u as P,v as x,w as tt,wa as Sn,x as re,y as A,ya as Rn,z as Fe}from"./chunk-JOBGMPTA.js";import{a as w,b as M,d as Se,k as Fn,o as Tn,r as X,s as nt,v as Pn,w as kn,y as Ut,z as it}from"./chunk-U3NIYLHF.js";var ei=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||n)(h(ke),h(Pe))}}static{this.\u0275dir=A({type:n})}}return n})(),Wt=(()=>{class n extends ei{static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Te(n)))(r||n)}})()}static{this.\u0275dir=A({type:n,features:[k]})}}return n})(),qe=new P("");var _r={provide:qe,useExisting:$(()=>Ce),multi:!0};function yr(){let n=Nt()?Nt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var vr=new P(""),Ce=(()=>{class n extends ei{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!yr())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||n)(h(ke),h(Pe),h(vr,8))}}static{this.\u0275dir=A({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&V("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[W([_r]),k]})}}return n})();function J(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function ti(n){return n!=null&&typeof n.length=="number"}var We=new P(""),pt=new P(""),br=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ee=class{static min(e){return Cr(e)}static max(e){return Er(e)}static required(e){return ni(e)}static requiredTrue(e){return wr(e)}static email(e){return Dr(e)}static minLength(e){return Mr(e)}static maxLength(e){return xr(e)}static pattern(e){return Ar(e)}static nullValidator(e){return st(e)}static compose(e){return li(e)}static composeAsync(e){return ci(e)}};function Cr(n){return e=>{if(J(e.value)||J(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Er(n){return e=>{if(J(e.value)||J(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function ni(n){return J(n.value)?{required:!0}:null}function wr(n){return n.value===!0?null:{required:!0}}function Dr(n){return J(n.value)||br.test(n.value)?null:{email:!0}}function Mr(n){return e=>J(e.value)||!ti(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function xr(n){return e=>ti(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Ar(n){if(!n)return st;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(J(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function st(n){return null}function ii(n){return n!=null}function ri(n){return Vn(n)?H(n):n}function oi(n){let e={};return n.forEach(t=>{e=t!=null?w(w({},e),t):e}),Object.keys(e).length===0?null:e}function si(n,e){return e.map(t=>t(n))}function Vr(n){return!n.validate}function ai(n){return n.map(e=>Vr(e)?e:t=>e.validate(t))}function li(n){if(!n)return null;let e=n.filter(ii);return e.length==0?null:function(t){return oi(si(t,e))}}function zt(n){return n!=null?li(ai(n)):null}function ci(n){if(!n)return null;let e=n.filter(ii);return e.length==0?null:function(t){let i=si(t,e).map(ri);return bn(i).pipe(Y(oi))}}function Xt(n){return n!=null?ci(ai(n)):null}function qn(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ui(n){return n._rawValidators}function di(n){return n._rawAsyncValidators}function Lt(n){return n?Array.isArray(n)?n:[n]:[]}function at(n,e){return Array.isArray(n)?n.includes(e):n===e}function Wn(n,e){let t=Lt(e);return Lt(n).forEach(r=>{at(t,r)||t.push(r)}),t}function zn(n,e){return Lt(e).filter(t=>!at(n,t))}var lt=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zt(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Xt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},K=class extends lt{get formDirective(){return null}get path(){return null}},ae=class extends lt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ct=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Ir={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Xs=M(w({},Ir),{"[class.ng-submitted]":"isSubmitted"}),mt=(()=>{class n extends ct{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(h(ae,2))}}static{this.\u0275dir=A({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Rt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[k]})}}return n})(),hi=(()=>{class n extends ct{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||n)(h(K,10))}}static{this.\u0275dir=A({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Rt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[k]})}}return n})();var Ue="VALID",ot="INVALID",_e="PENDING",je="DISABLED",te=class{},ut=class extends te{constructor(e,t){super(),this.value=e,this.source=t}},Le=class extends te{constructor(e,t){super(),this.pristine=e,this.source=t}},Ge=class extends te{constructor(e,t){super(),this.touched=e,this.source=t}},ye=class extends te{constructor(e,t){super(),this.status=e,this.source=t}},Gt=class extends te{constructor(e){super(),this.source=e}},Ht=class extends te{constructor(e){super(),this.source=e}};function Kt(n){return(gt(n)?n.validators:n)||null}function Or(n){return Array.isArray(n)?zt(n):n||null}function Yt(n,e){return(gt(e)?e.asyncValidators:n)||null}function Sr(n){return Array.isArray(n)?Xt(n):n||null}function gt(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function fi(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new et(1e3,"");if(!i[t])throw new et(1001,"")}function pi(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new et(1002,"")})}var ve=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ge(()=>this.statusReactive()),this.statusReactive=me(void 0),this._pristine=ge(()=>this.pristineReactive()),this.pristineReactive=me(!0),this._touched=ge(()=>this.touchedReactive()),this.touchedReactive=me(!1),this._events=new vn,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return z(this.statusReactive)}set status(e){z(()=>this.statusReactive.set(e))}get valid(){return this.status===Ue}get invalid(){return this.status===ot}get pending(){return this.status==_e}get disabled(){return this.status===je}get enabled(){return this.status!==je}get pristine(){return z(this.pristineReactive)}set pristine(e){z(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return z(this.touchedReactive)}set touched(e){z(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Wn(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Wn(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zn(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zn(e,this._rawAsyncValidators))}hasValidator(e){return at(this._rawValidators,e)}hasAsyncValidator(e){return at(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(M(w({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Ge(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new Ge(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(M(w({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Le(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new Le(!0,i))}markAsPending(e={}){this.status=_e;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ye(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(M(w({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=je,this.errors=null,this._forEachChild(r=>{r.disable(M(w({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ut(this.value,i)),this._events.next(new ye(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(M(w({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ue,this._forEachChild(i=>{i.enable(M(w({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(M(w({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ue||this.status===_e)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ut(this.value,t)),this._events.next(new ye(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(M(w({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?je:Ue}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=_e,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=ri(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new ye(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new oe,this.statusChanges=new oe}_calculateStatus(){return this._allControlsDisabled()?je:this.errors?ot:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_e)?_e:this._anyControlsHaveStatus(ot)?ot:Ue}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new Le(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ge(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){gt(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Or(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Sr(this._rawAsyncValidators)}},be=class extends ve{constructor(e,t,i){super(Kt(t),Yt(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){pi(this,!0,e),Object.keys(e).forEach(i=>{fi(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var $t=class extends be{};var ze=new P("CallSetDisabledState",{providedIn:"root",factory:()=>_t}),_t="always";function mi(n,e){return[...e.path,n]}function dt(n,e,t=_t){Zt(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Fr(n,e),Pr(n,e),Tr(n,e),Rr(n,e)}function Xn(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),ft(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ht(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Rr(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Zt(n,e){let t=ui(n);e.validator!==null?n.setValidators(qn(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=di(n);e.asyncValidator!==null?n.setAsyncValidators(qn(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();ht(e._rawValidators,r),ht(e._rawAsyncValidators,r)}function ft(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=ui(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=di(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return ht(e._rawValidators,i),ht(e._rawAsyncValidators,i),t}function Fr(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&gi(n,e)})}function Tr(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&gi(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function gi(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Pr(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function _i(n,e){n==null,Zt(n,e)}function kr(n,e){return ft(n,e)}function yi(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Nr(n){return Object.getPrototypeOf(n.constructor)===Wt}function vi(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function bi(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===Ce?t=o:Nr(o)?i=o:r=o}),r||i||t||null}function Ur(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var jr={provide:K,useExisting:$(()=>Br)},Be=Promise.resolve(),Br=(()=>{class n extends K{get submitted(){return z(this.submittedReactive)}constructor(t,i,r){super(),this.callSetDisabledState=r,this._submitted=ge(()=>this.submittedReactive()),this.submittedReactive=me(!1),this._directives=new Set,this.ngSubmit=new oe,this.form=new be({},zt(t),Xt(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Be.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),dt(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Be.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Be.then(()=>{let i=this._findContainer(t.path),r=new be({});_i(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Be.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Be.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),vi(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(i){return new(i||n)(h(We,10),h(pt,10),h(ze,8))}}static{this.\u0275dir=A({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&V("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[W([jr]),k]})}}return n})();function Kn(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Yn(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var He=class extends ve{constructor(e=null,t,i){super(Kt(t),Yt(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gt(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Yn(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Kn(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Kn(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Yn(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Lr=n=>n instanceof He;var Gr={provide:ae,useExisting:$(()=>Qt)},Zn=Promise.resolve(),Qt=(()=>{class n extends ae{constructor(t,i,r,o,s,l){super(),this._changeDetectorRef=s,this.callSetDisabledState=l,this.control=new He,this._registered=!1,this.name="",this.update=new oe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=bi(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),yi(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){dt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Zn.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&kt(i);Zn.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?mi(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||n)(h(K,9),h(We,10),h(pt,10),h(qe,10),h(Pt,8),h(ze,8))}}static{this.\u0275dir=A({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[W([Gr]),k,Fe]})}}return n})(),Ci=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=A({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var Ei=new P("");var Hr={provide:K,useExisting:$(()=>Jt)},Jt=(()=>{class n extends K{get submitted(){return z(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,i,r){super(),this.callSetDisabledState=r,this._submitted=ge(()=>this._submittedReactive()),this._submittedReactive=me(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new oe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ft(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return dt(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Xn(t.control||null,t,!1),Ur(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),vi(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Gt(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Ht(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(Xn(i||null,t),Lr(r)&&(dt(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);_i(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&kr(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zt(this.form,this),this._oldForm&&ft(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(h(We,10),h(pt,10),h(ze,8))}}static{this.\u0275dir=A({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&V("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[W([Hr]),k,Fe]})}}return n})();var $r={provide:ae,useExisting:$(()=>en)},en=(()=>{class n extends ae{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new oe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=bi(this,o)}ngOnChanges(t){this._added||this._setUpControl(),yi(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return mi(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(h(K,13),h(We,10),h(pt,10),h(qe,10),h(Ei,8))}}static{this.\u0275dir=A({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[W([$r]),k,Fe]})}}return n})(),qr={provide:qe,useExisting:$(()=>yt),multi:!0};function wi(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Wr(n){return n.split(":")[0]}var yt=(()=>{class n extends Wt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i=this._getOptionId(t),r=wi(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=Wr(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Te(n)))(r||n)}})()}static{this.\u0275dir=A({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&V("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[W([qr]),k]})}}return n})(),Di=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(wi(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(h(Pe),h(ke),h(yt,9))}}static{this.\u0275dir=A({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),zr={provide:qe,useExisting:$(()=>Mi),multi:!0};function Qn(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Xr(n){return n.split(":")[0]}var Mi=(()=>{class n extends Wt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let l=0;l<s.length;l++){let a=s[l],u=this._getOptionValue(a.value);r.push(u)}}else{let s=i.options;for(let l=0;l<s.length;l++){let a=s[l];if(a.selected){let u=this._getOptionValue(a.value);r.push(u)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=Xr(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Te(n)))(r||n)}})()}static{this.\u0275dir=A({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&V("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[W([zr]),k]})}}return n})(),xi=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Qn(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Qn(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(h(Pe),h(ke),h(Mi,9))}}static{this.\u0275dir=A({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var Kr=(()=>{class n{constructor(){this._validator=st}ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):st,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=A({type:n,features:[Fe]})}}return n})();var Yr={provide:We,useExisting:$(()=>Zr),multi:!0};var Zr=(()=>{class n extends Kr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=kt,this.createValidator=t=>ni}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Te(n)))(r||n)}})()}static{this.\u0275dir=A({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Dn("required",r._enabled?"":null)},inputs:{required:"required"},features:[W([Yr]),k]})}}return n})();var Ai=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=re({type:n})}static{this.\u0275inj=ie({})}}return n})(),qt=class extends ve{constructor(e,t,i){super(Kt(t),Yt(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){pi(this,!1,e),e.forEach((i,r)=>{fi(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Jn(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Vi=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return Jn(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new be(r,o)}record(t,i=null){let r=this._reduceControls(t);return new $t(r,i)}control(t,i,r){let o={};return this.useNonNullable?(Jn(i)?o=i:(o.validators=i,o.asyncValidators=r),new He(t,M(w({},o),{nonNullable:!0}))):new He(t,i,r)}array(t,i,r){let o=t.map(s=>this._createControl(s));return new qt(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof He)return t;if(t instanceof ve)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ys=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ze,useValue:t.callSetDisabledState??_t}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=re({type:n})}static{this.\u0275inj=ie({imports:[Ai]})}}return n})(),Zs=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ei,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ze,useValue:t.callSetDisabledState??_t}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=re({type:n})}static{this.\u0275inj=ie({imports:[Ai]})}}return n})();var Ui="firebasestorage.googleapis.com",ji="storageBucket",Qr=2*60*1e3,Jr=10*60*1e3,eo=1e3;var y=class n extends Tn{constructor(e,t,i=0){super(tn(e),`Firebase Storage: ${t} (${tn(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tn(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},m=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(m||{});function tn(n){return"storage/"+n}function un(){let n="An unknown error occurred, please check the error payload for server response.";return new y(m.UNKNOWN,n)}function to(n){return new y(m.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function no(n){return new y(m.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function io(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new y(m.UNAUTHENTICATED,n)}function ro(){return new y(m.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function oo(n){return new y(m.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Bi(){return new y(m.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Li(){return new y(m.CANCELED,"User canceled the upload/download.")}function so(n){return new y(m.INVALID_URL,"Invalid URL '"+n+"'.")}function ao(n){return new y(m.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function lo(){return new y(m.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ji+"' property when initializing the app?")}function Gi(){return new y(m.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function co(){return new y(m.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function uo(){return new y(m.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ho(n){return new y(m.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function le(n){return new y(m.INVALID_ARGUMENT,n)}function Hi(){return new y(m.APP_DELETED,"The Firebase app was deleted.")}function dn(n){return new y(m.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ke(n,e){return new y(m.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Xe(n){throw new y(m.INTERNAL_ERROR,"Internal error: "+n)}var R=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(i.path==="")return i;throw ao(e)}static makeFromUrl(e,t){let i=null,r="([A-Za-z0-9.\\-_]+)";function o(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}let s="(/(.*))?$",l=new RegExp("^gs://"+r+s,"i"),a={bucket:1,path:3};function u(D){D.path_=decodeURIComponent(D.path)}let p="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",_=new RegExp(`^https?://${b}/${p}/b/${r}/o${g}`,"i"),C={bucket:1,path:3},T=t===Ui?"(?:storage.googleapis.com|storage.cloud.google.com)":t,E="([^?#]*)",L=new RegExp(`^https?://${T}/${r}/${E}`,"i"),O=[{regex:l,indices:a,postModify:o},{regex:_,indices:C,postModify:u},{regex:L,indices:{bucket:1,path:2},postModify:u}];for(let D=0;D<O.length;D++){let ue=O[D],de=ue.regex.exec(e);if(de){let It=de[ue.indices.bucket],Oe=de[ue.indices.path];Oe||(Oe=""),i=new n(It,Oe),ue.postModify(i);break}}if(i==null)throw so(e);return i}},rn=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function fo(n,e,t){let i=1,r=null,o=null,s=!1,l=0;function a(){return l===2}let u=!1;function p(...E){u||(u=!0,e.apply(null,E))}function b(E){r=setTimeout(()=>{r=null,n(_,a())},E)}function g(){o&&clearTimeout(o)}function _(E,...L){if(u){g();return}if(E){g(),p.call(null,E,...L);return}if(a()||s){g(),p.call(null,E,...L);return}i<64&&(i*=2);let O;l===1?(l=2,O=0):O=(i+Math.random())*1e3,b(O)}let C=!1;function T(E){C||(C=!0,g(),!u&&(r!==null?(E||(l=2),clearTimeout(r),b(0)):E||(l=1)))}return b(0),o=setTimeout(()=>{s=!0,T(!0)},t),T}function po(n){n(!1)}function mo(n){return n!==void 0}function go(n){return typeof n=="function"}function _o(n){return typeof n=="object"&&!Array.isArray(n)}function Ct(n){return typeof n=="string"||n instanceof String}function Oi(n){return hn()&&n instanceof Blob}function hn(){return typeof Blob<"u"}function on(n,e,t,i){if(i<e)throw le(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw le(`Invalid value for '${n}'. Expected ${t} or less.`)}function ne(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function $i(n){let e=encodeURIComponent,t="?";for(let i in n)if(n.hasOwnProperty(i)){let r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var De=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(De||{});function qi(n,e){let t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||r||o}var sn=class{constructor(e,t,i,r,o,s,l,a,u,p,b,g=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=a,this.timeout_=u,this.progressCallback_=p,this.connectionFactory_=b,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,C)=>{this.resolve_=_,this.reject_=C,this.start_()})}start_(){let e=(i,r)=>{if(r){i(!1,new we(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=l=>{let a=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let l=o.getErrorCode()===De.NO_ERROR,a=o.getStatus();if(!l||qi(a,this.additionalRetryCodes_)&&this.retry){let p=o.getErrorCode()===De.ABORT;i(!1,new we(!1,null,p));return}let u=this.successCodes_.indexOf(a)!==-1;i(!0,new we(u,o))})},t=(i,r)=>{let o=this.resolve_,s=this.reject_,l=r.connection;if(r.wasSuccessCode)try{let a=this.callback_(l,l.getResponse());mo(a)?o(a):o()}catch(a){s(a)}else if(l!==null){let a=un();a.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,a)):s(a)}else if(r.canceled){let a=this.appDelete_?Hi():Li();s(a)}else{let a=Bi();s(a)}};this.canceled_?t(!1,new we(!1,null,!0)):this.backoffId_=fo(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&po(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},we=class{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}};function yo(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function vo(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bo(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Co(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Eo(n,e,t,i,r,o,s=!0){let l=$i(n.urlParams),a=n.url+l,u=Object.assign({},n.headers);return bo(u,e),yo(u,t),vo(u,o),Co(u,i),new sn(a,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s)}function wo(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Do(...n){let e=wo();if(e!==void 0){let t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(hn())return new Blob(n);throw new y(m.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Mo(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function xo(n){if(typeof atob>"u")throw ho("base-64");return atob(n)}var F={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Ye=class{constructor(e,t){this.data=e,this.contentType=t||null}};function fn(n,e){switch(n){case F.RAW:return new Ye(Wi(e));case F.BASE64:case F.BASE64URL:return new Ye(zi(n,e));case F.DATA_URL:return new Ye(Vo(e),Io(e))}throw un()}function Wi(n){let e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let o=i,s=n.charCodeAt(++t);i=65536|(o&1023)<<10|s&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function Ao(n){let e;try{e=decodeURIComponent(n)}catch{throw Ke(F.DATA_URL,"Malformed data URL.")}return Wi(e)}function zi(n,e){switch(n){case F.BASE64:{let r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw Ke(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case F.BASE64URL:{let r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw Ke(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=xo(e)}catch(r){throw r.message.includes("polyfill")?r:Ke(n,"Invalid character found")}let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}var bt=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ke(F.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let i=t[1]||null;i!=null&&(this.base64=Oo(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}};function Vo(n){let e=new bt(n);return e.base64?zi(F.BASE64,e.rest):Ao(e.rest)}function Io(n){return new bt(n).contentType}function Oo(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var Me=class n{constructor(e,t){let i=0,r="";Oi(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Oi(this.data_)){let i=this.data_,r=Mo(i,e,t);return r===null?null:new n(r)}else{let i=new Uint8Array(this.data_.buffer,e,t-e);return new n(i,!0)}}static getBlob(...e){if(hn()){let t=e.map(i=>i instanceof n?i.data_:i);return new n(Do.apply(null,t))}else{let t=e.map(s=>Ct(s)?fn(F.RAW,s).data:s.data_),i=0;t.forEach(s=>{i+=s.byteLength});let r=new Uint8Array(i),o=0;return t.forEach(s=>{for(let l=0;l<s.length;l++)r[o++]=s[l]}),new n(r,!0)}}uploadData(){return this.data_}};function pn(n){let e;try{e=JSON.parse(n)}catch{return null}return _o(e)?e:null}function So(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Ro(n,e){let t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function Xi(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function Fo(n,e){return e}var I=class{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||Fo}},vt=null;function To(n){return!Ct(n)||n.length<2?n:Xi(n)}function Et(){if(vt)return vt;let n=[];n.push(new I("bucket")),n.push(new I("generation")),n.push(new I("metageneration")),n.push(new I("name","fullPath",!0));function e(o,s){return To(s)}let t=new I("name");t.xform=e,n.push(t);function i(o,s){return s!==void 0?Number(s):s}let r=new I("size");return r.xform=i,n.push(r),n.push(new I("timeCreated")),n.push(new I("updated")),n.push(new I("md5Hash",null,!0)),n.push(new I("cacheControl",null,!0)),n.push(new I("contentDisposition",null,!0)),n.push(new I("contentEncoding",null,!0)),n.push(new I("contentLanguage",null,!0)),n.push(new I("contentType",null,!0)),n.push(new I("metadata","customMetadata",!0)),vt=n,vt}function Po(n,e){function t(){let i=n.bucket,r=n.fullPath,o=new R(i,r);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function ko(n,e,t){let i={};i.type="file";let r=t.length;for(let o=0;o<r;o++){let s=t[o];i[s.local]=s.xform(i,e[s.server])}return Po(i,n),i}function Ki(n,e,t){let i=pn(e);return i===null?null:ko(n,i,t)}function No(n,e,t,i){let r=pn(e);if(r===null||!Ct(r.downloadTokens))return null;let o=r.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(u=>{let p=n.bucket,b=n.fullPath,g="/b/"+s(p)+"/o/"+s(b),_=ne(g,t,i),C=$i({alt:"media",token:u});return _+C})[0]}function mn(n,e){let t={},i=e.length;for(let r=0;r<i;r++){let o=e[r];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}var Si="prefixes",Ri="items";function Uo(n,e,t){let i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[Si])for(let r of t[Si]){let o=r.replace(/\/$/,""),s=n._makeStorageReference(new R(e,o));i.prefixes.push(s)}if(t[Ri])for(let r of t[Ri]){let o=n._makeStorageReference(new R(e,r.name));i.items.push(o)}return i}function jo(n,e,t){let i=pn(t);return i===null?null:Uo(n,e,i)}var U=class{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function B(n){if(!n)throw un()}function wt(n,e){function t(i,r){let o=Ki(n,r,e);return B(o!==null),o}return t}function Bo(n,e){function t(i,r){let o=jo(n,e,r);return B(o!==null),o}return t}function Lo(n,e){function t(i,r){let o=Ki(n,r,e);return B(o!==null),No(o,r,n.host,n._protocol)}return t}function Ve(n){function e(t,i){let r;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?r=ro():r=io():t.getStatus()===402?r=no(n.bucket):t.getStatus()===403?r=oo(n.path):r=i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}return e}function Dt(n){let e=Ve(n);function t(i,r){let o=e(i,r);return i.getStatus()===404&&(o=to(n.path)),o.serverResponse=r.serverResponse,o}return t}function Yi(n,e,t){let i=e.fullServerUrl(),r=ne(i,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,l=new U(r,o,wt(n,t),s);return l.errorHandler=Dt(e),l}function Go(n,e,t,i,r){let o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",t&&t.length>0&&(o.delimiter=t),i&&(o.pageToken=i),r&&(o.maxResults=r);let s=e.bucketOnlyServerUrl(),l=ne(s,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,p=new U(l,a,Bo(n,e.bucket),u);return p.urlParams=o,p.errorHandler=Ve(e),p}function Ho(n,e,t){let i=e.fullServerUrl(),r=ne(i,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,l=new U(r,o,Lo(n,t),s);return l.errorHandler=Dt(e),l}function $o(n,e,t,i){let r=e.fullServerUrl(),o=ne(r,n.host,n._protocol),s="PATCH",l=mn(t,i),a={"Content-Type":"application/json; charset=utf-8"},u=n.maxOperationRetryTime,p=new U(o,s,wt(n,i),u);return p.headers=a,p.body=l,p.errorHandler=Dt(e),p}function qo(n,e){let t=e.fullServerUrl(),i=ne(t,n.host,n._protocol),r="DELETE",o=n.maxOperationRetryTime;function s(a,u){}let l=new U(i,r,s,o);return l.successCodes=[200,204],l.errorHandler=Dt(e),l}function Wo(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function Zi(n,e,t){let i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=Wo(null,e)),i}function zo(n,e,t,i,r){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function l(){let O="";for(let D=0;D<2;D++)O=O+Math.random().toString().slice(2);return O}let a=l();s["Content-Type"]="multipart/related; boundary="+a;let u=Zi(e,i,r),p=mn(u,t),b="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+a+`\r
Content-Type: `+u.contentType+`\r
\r
`,g=`\r
--`+a+"--",_=Me.getBlob(b,i,g);if(_===null)throw Gi();let C={name:u.fullPath},T=ne(o,n.host,n._protocol),E="POST",L=n.maxUploadRetryTime,G=new U(T,E,wt(n,t),L);return G.urlParams=C,G.headers=s,G.body=_.uploadData(),G.errorHandler=Ve(e),G}var xe=class{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}};function gn(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{B(!1)}return B(!!t&&(e||["active"]).indexOf(t)!==-1),t}function Xo(n,e,t,i,r){let o=e.bucketOnlyServerUrl(),s=Zi(e,i,r),l={name:s.fullPath},a=ne(o,n.host,n._protocol),u="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},b=mn(s,t),g=n.maxUploadRetryTime;function _(T){gn(T);let E;try{E=T.getResponseHeader("X-Goog-Upload-URL")}catch{B(!1)}return B(Ct(E)),E}let C=new U(a,u,_,g);return C.urlParams=l,C.headers=p,C.body=b,C.errorHandler=Ve(e),C}function Ko(n,e,t,i){let r={"X-Goog-Upload-Command":"query"};function o(u){let p=gn(u,["active","final"]),b=null;try{b=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{B(!1)}b||B(!1);let g=Number(b);return B(!isNaN(g)),new xe(g,i.size(),p==="final")}let s="POST",l=n.maxUploadRetryTime,a=new U(t,s,o,l);return a.headers=r,a.errorHandler=Ve(e),a}var Fi=256*1024;function Yo(n,e,t,i,r,o,s,l){let a=new xe(0,0);if(s?(a.current=s.current,a.total=s.total):(a.current=0,a.total=i.size()),i.size()!==a.total)throw co();let u=a.total-a.current,p=u;r>0&&(p=Math.min(p,r));let b=a.current,g=b+p,_="";p===0?_="finalize":u===p?_="upload, finalize":_="upload";let C={"X-Goog-Upload-Command":_,"X-Goog-Upload-Offset":`${a.current}`},T=i.slice(b,g);if(T===null)throw Gi();function E(D,ue){let de=gn(D,["active","final"]),It=a.current+p,Oe=i.size(),Ot;return de==="final"?Ot=wt(e,o)(D,ue):Ot=null,new xe(It,Oe,de==="final",Ot)}let L="POST",G=e.maxUploadRetryTime,O=new U(t,L,E,G);return O.headers=C,O.body=T.uploadData(),O.progressCallback=l||null,O.errorHandler=Ve(n),O}var Qi={STATE_CHANGED:"state_changed"},S={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function nn(n){switch(n){case"running":case"pausing":case"canceling":return S.RUNNING;case"paused":return S.PAUSED;case"success":return S.SUCCESS;case"canceled":return S.CANCELED;case"error":return S.ERROR;default:return S.ERROR}}var an=class{constructor(e,t,i){if(go(e)||t!=null||i!=null)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{let o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}};function Ee(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}var Ti=null,ln=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=De.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=De.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=De.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw Xe("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),r!==void 0)for(let o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xe("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xe("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xe("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xe("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},cn=class extends ln{initXhr(){this.xhr_.responseType="text"}};function j(){return Ti?Ti():new cn}var Ze=class{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=Et(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(m.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let o=this.isExponentialBackoffExpired();if(qi(r.status,[]))if(o)r=Bi();else{this.sleepTime=Math.max(this.sleepTime*2,eo),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(m.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{let i=Xo(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,j,e,t);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((t,i)=>{let r=Ko(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(r,j,t,i);this._request=o,o.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=Fi*this._chunkMultiplier,t=new xe(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let s;try{s=Yo(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(a){this._error=a,this._transition("error");return}let l=this._ref.storage._makeRequest(s,j,r,o,!1);this._request=l,l.getPromise().then(a=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(a.current),a.finalized?(this._metadata=a.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Fi*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{let i=Yi(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,j,e,t);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{let i=zo(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,j,e,t);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Li(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=nn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){let o=new an(t||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(nn(this._state)){case S.SUCCESS:Ee(this._resolve.bind(null,this.snapshot))();break;case S.CANCELED:case S.ERROR:let t=this._reject;Ee(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(nn(this._state)){case S.RUNNING:case S.PAUSED:e.next&&Ee(e.next.bind(e,this.snapshot))();break;case S.SUCCESS:e.complete&&Ee(e.complete.bind(e))();break;case S.CANCELED:case S.ERROR:e.error&&Ee(e.error.bind(e,this._error))();break;default:e.error&&Ee(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var Ae=class n{constructor(e,t){this._service=e,t instanceof R?this._location=t:this._location=R.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new R(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Xi(this._location.path)}get storage(){return this._service}get parent(){let e=So(this._location.path);if(e===null)return null;let t=new R(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw dn(e)}};function Zo(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Ze(n,new Me(e),t)}function Qo(n){let e={prefixes:[],items:[]};return Ji(n,e).then(()=>e)}function Ji(n,e,t){return Se(this,null,function*(){let r=yield er(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),r.nextPageToken!=null&&(yield Ji(n,e,r.nextPageToken))})}function er(n,e){e!=null&&typeof e.maxResults=="number"&&on("options.maxResults",1,1e3,e.maxResults);let t=e||{},i=Go(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,j)}function Jo(n){n._throwIfRoot("getMetadata");let e=Yi(n.storage,n._location,Et());return n.storage.makeRequestWithTokens(e,j)}function es(n,e){n._throwIfRoot("updateMetadata");let t=$o(n.storage,n._location,e,Et());return n.storage.makeRequestWithTokens(t,j)}function ts(n){n._throwIfRoot("getDownloadURL");let e=Ho(n.storage,n._location,Et());return n.storage.makeRequestWithTokens(e,j).then(t=>{if(t===null)throw uo();return t})}function ns(n){n._throwIfRoot("deleteObject");let e=qo(n.storage,n._location);return n.storage.makeRequestWithTokens(e,j)}function tr(n,e){let t=Ro(n._location.path,e),i=new R(n._location.bucket,t);return new Ae(n.storage,i)}function is(n){return/^[A-Za-z]+:\/\//.test(n)}function rs(n,e){return new Ae(n,e)}function nr(n,e){if(n instanceof Qe){let t=n;if(t._bucket==null)throw lo();let i=new Ae(t,t._bucket);return e!=null?nr(i,e):i}else return e!==void 0?tr(n,e):n}function os(n,e){if(e&&is(e)){if(n instanceof Qe)return rs(n,e);throw le("To use ref(service, url), the first argument must be a Storage instance.")}else return nr(n,e)}function Pi(n,e){let t=e?.[ji];return t==null?null:R.makeFromBucketSpec(t,n)}function ss(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:r}=i;r&&(n._overrideAuthToken=typeof r=="string"?r:Fn(r,n.app.options.projectId))}var Qe=class{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=Ui,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Qr,this._maxUploadRetryTime=Jr,this._requests=new Set,r!=null?this._bucket=R.makeFromBucketSpec(r,this._host):this._bucket=Pi(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=R.makeFromBucketSpec(this._url,e):this._bucket=Pi(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){on("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){on("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return Se(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return Se(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ae(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new rn(Hi());{let s=Eo(e,this._appId,i,r,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return Se(this,null,function*(){let[i,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()})}},ki="@firebase/storage",Ni="0.13.2";var as="storage";function ir(n,e,t){return n=X(n),Zo(n,e,t)}function rr(n){return n=X(n),Jo(n)}function or(n,e){return n=X(n),es(n,e)}function sr(n,e){return n=X(n),er(n,e)}function ar(n){return n=X(n),Qo(n)}function lr(n){return n=X(n),ts(n)}function cr(n){return n=X(n),ns(n)}function _n(n,e){return n=X(n),os(n,e)}function ur(n,e){return tr(n,e)}function dr(n,e,t,i={}){ss(n,e,t,i)}function ls(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new Qe(t,i,r,e,kn)}function cs(){Pn(new nt(as,ls,"PUBLIC").setMultipleInstances(!0)),Ut(ki,Ni,""),Ut(ki,Ni,"esm2017")}cs();var Ie=class{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var Mt=class{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ie(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new Ie(i,this,this._ref))},t)}on(e,t,i,r){let o;return t&&(typeof t=="function"?o=s=>t(new Ie(s,this,this._ref)):o={next:t.next?s=>t.next(new Ie(s,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,i||void 0,r||void 0)}},xt=class{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ce(e,this._service))}get items(){return this._delegate.items.map(e=>new ce(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var ce=class n{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){let t=ur(this._delegate,e);return new n(t,this.storage)}get root(){return new n(this._delegate.root,this.storage)}get parent(){let e=this._delegate.parent;return e==null?null:new n(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Mt(ir(this._delegate,e,t),this)}putString(e,t=F.RAW,i){this._throwIfRoot("putString");let r=fn(t,e),o=Object.assign({},i);return o.contentType==null&&r.contentType!=null&&(o.contentType=r.contentType),new Mt(new Ze(this._delegate,new Me(r.data,!0),o),this)}listAll(){return ar(this._delegate).then(e=>new xt(e,this.storage))}list(e){return sr(this._delegate,e||void 0).then(t=>new xt(t,this.storage))}getMetadata(){return rr(this._delegate)}updateMetadata(e){return or(this._delegate,e)}getDownloadURL(){return lr(this._delegate)}delete(){return this._throwIfRoot("delete"),cr(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw dn(e)}};var At=class{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(hr(e))throw le("ref() expected a child path but got a URL, use refFromURL instead.");return new ce(_n(this._delegate,e),this)}refFromURL(e){if(!hr(e))throw le("refFromURL() expected a full URL but got a child path, use ref() instead.");try{R.makeFromUrl(e,this._delegate.host)}catch{throw le("refFromUrl() expected a valid full URL but got an invalid one.")}return new ce(_n(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){dr(this._delegate,e,t,i)}};function hr(n){return/^[A-Za-z]+:\/\//.test(n)}var us="@firebase/storage-compat",ds="0.3.12";var hs="storage-compat";function fs(n,{instanceIdentifier:e}){let t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new At(t,i)}function ps(n){let e={TaskState:S,TaskEvent:Qi,StringFormat:F,Storage:At,Reference:ce};n.INTERNAL.registerComponent(new nt(hs,fs,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion(us,ds)}ps(it);function ms(n){return new yn(e=>{let t=s=>e.next(s),i=s=>e.error(s),r=()=>e.complete();t(n.snapshot);let o=n.on("state_changed",t);return n.then(s=>{t(s),r()},s=>{t(n.snapshot),i(s)}),function(){o()}}).pipe(Cn(0))}function fr(n){let e=ms(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Y(t=>t.bytesTransferred/t.totalBytes*100))}}function Vt(n){return{getDownloadURL:()=>St(void 0).pipe(jt,Re(()=>n.getDownloadURL()),Bt),getMetadata:()=>St(void 0).pipe(jt,Re(()=>n.getMetadata()),Bt),delete:()=>H(n.delete()),child:e=>Vt(n.child(e)),updateMetadata:e=>H(n.updateMetadata(e)),put:(e,t)=>{let i=n.put(e,t);return fr(i)},putString:(e,t,i)=>{let r=n.putString(e,t,i);return fr(r)},list:e=>H(n.list(e)),listAll:()=>H(n.listAll())}}var gs=new P("angularfire2.storageBucket"),_s=new P("angularfire2.storage.maxUploadRetryTime"),ys=new P("angularfire2.storage.maxOperationRetryTime"),vs=new P("angularfire2.storage.use-emulator"),Je=(()=>{class n{storage;constructor(t,i,r,o,s,l,a,u,p,b){let g=Gn(t,s,i);this.storage=Hn(`${g.name}.storage.${r}`,"AngularFireStorage",g.name,()=>{let _=s.runOutsideAngular(()=>g.storage(r||void 0)),C=p;return C&&_.useEmulator(...C),a&&_.setMaxUploadRetryTime(a),u&&_.setMaxOperationRetryTime(u),_},[a,u])}ref(t){return Vt(this.storage.ref(t))}refFromURL(t){return Vt(this.storage.refFromURL(t))}upload(t,i,r){let o=this.storage.ref(t);return Vt(o).put(i,r)}static \u0275fac=function(i){return new(i||n)(x(Bn),x(Ln,8),x(gs,8),x(wn),x(En),x(jn),x(_s,8),x(ys,8),x(vs,8),x(Un,8))};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var bs=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=re({type:n});static \u0275inj=ie({})}return n})(),Oa=(()=>{class n{constructor(){it.registerVersion("angularfire",Nn.full,"gcs-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=re({type:n});static \u0275inj=ie({providers:[Je],imports:[bs]})}return n})();var mr=(()=>{class n{constructor(t,i){this.firestore=t,this.storage=i,this.collectionName="employees"}getEmployees(){return this.firestore.collection(this.collectionName).snapshotChanges().pipe(Y(t=>t.map(i=>{let r=i.payload.doc.data(),o=i.payload.doc.id;return r.documents&&(r.documents=r.documents.map(s=>(s.url&&!s.url.startsWith("http")&&this.getDocumentUrl(s.url).subscribe(l=>{s.url=l}),s))),M(w({},r),{id:o})})))}getDocumentUrl(t){return t.startsWith("gs://")||t.startsWith("https://")?this.storage.refFromURL(t).getDownloadURL():this.storage.ref(t).getDownloadURL()}getEmployeeById(t){return this.firestore.collection(this.collectionName).doc(t).valueChanges()}updateEmployeeStatus(t,i){return this.firestore.collection(this.collectionName).doc(t).update({status:i})}deleteEmployee(t){throw new Error("Method not implemented.")}static{this.\u0275fac=function(i){return new(i||n)(x(rt),x(Je))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ds(n,e){if(n&1){let t=Ft();d(0,"div",7)(1,"div",8)(2,"div",9),se(3,"img",10),c()(),d(4,"div",11)(5,"span")(6,"strong"),f(7),c()()(),d(8,"div",12)(9,"button",13),V("click",function(){let r=he(t).$implicit,o=Q();return fe(o.openModal(r))}),f(10,"View Details"),c()()()}if(n&2){let t=e.$implicit;v(3),N("src",t.profileImageUrl,pe),v(4),Tt(t.name)}}function Ms(n,e){n&1&&(d(0,"div",14),f(1," No employees found. "),c())}function xs(n,e){if(n&1&&(d(0,"li")(1,"a",27),f(2),c()()),n&2){let t=e.$implicit;v(),N("href",t.url,pe),v(),Tt(t.name)}}function As(n,e){if(n&1&&(d(0,"div")(1,"p")(2,"strong"),f(3,"Documents Submitted:"),c()(),d(4,"ul"),Ne(5,xs,3,2,"li",26),c()()),n&2){let t=Q(2);v(5),N("ngForOf",t.selectedEmployee.documents)}}function Vs(n,e){if(n&1){let t=Ft();d(0,"div",15)(1,"div",16)(2,"span",17),V("click",function(){he(t);let r=Q();return fe(r.closeModal())}),f(3,"\xD7"),c(),d(4,"h1",18),f(5,"Employee Information"),c(),d(6,"div",19)(7,"div",20),se(8,"img",21),c(),d(9,"div",22)(10,"p")(11,"strong"),f(12,"Name:"),c(),f(13),c(),d(14,"p")(15,"strong"),f(16,"Email:"),c(),f(17),c(),d(18,"p")(19,"strong"),f(20,"Employment Date:"),c(),f(21),c(),d(22,"p")(23,"strong"),f(24,"Employment Type:"),c(),f(25),c(),d(26,"p")(27,"strong"),f(28,"Department:"),c(),f(29),c(),d(30,"p")(31,"strong"),f(32,"Automated Notification:"),c(),f(33),c(),Ne(34,As,6,1,"div",23),c()(),d(35,"div",24)(36,"button",13),V("click",function(){he(t);let r=Q();return fe(r.updateEmployee())}),f(37,"Update"),c(),d(38,"button",25),V("click",function(){he(t);let r=Q();return fe(r.deleteEmployee())}),f(39,"Delete"),c(),d(40,"button",13),V("click",function(){he(t);let r=Q();return fe(r.moveToOffboarding())}),f(41,"Move to Offboarding"),c()()()()}if(n&2){let t=Q();v(8),N("src",t.selectedEmployee.profileImageUrl,pe),v(5),q(" ",t.selectedEmployee.name,""),v(4),q(" ",t.selectedEmployee.email,""),v(4),q(" ",t.selectedEmployee.employmentDate,""),v(4),q(" ",t.selectedEmployee.employmentType,""),v(4),q(" ",t.selectedEmployee.department,""),v(4),q(" ",t.selectedEmployee.notification,""),v(),N("ngIf",t.selectedEmployee.documents.length>0)}}var Ta=(()=>{class n{constructor(t,i){this.router=t,this.employeesService=i,this.employees=[],this.filteredEmployees=[],this.searchQuery="",this.selectedEmployee=null}ngOnInit(){this.employeesService.getEmployees().subscribe(t=>{this.employees=t,this.filteredEmployees=[...this.employees]})}searchEmployee(t){this.filteredEmployees=this.employees.filter(i=>i.name.toLowerCase().includes(t.toLowerCase()))}openModal(t){console.log("Opening modal for:",t),this.selectedEmployee=t}closeModal(){this.selectedEmployee=null}deleteEmployee(){this.selectedEmployee?.id&&(this.employeesService.deleteEmployee(this.selectedEmployee.id),alert("Employee deleted successfully"),this.closeModal())}updateEmployee(){this.selectedEmployee?.id&&console.log("Update employee:",this.selectedEmployee)}moveToOffboarding(){if(!this.selectedEmployee){console.warn("No employee selected for offboarding.");return}this.router.navigate(["/offboard"],{queryParams:{id:this.selectedEmployee.id,name:this.selectedEmployee.name,profileImageUrl:this.selectedEmployee.profileImageUrl}})}static{this.\u0275fac=function(i){return new(i||n)(h(Rn),h(mr))}}static{this.\u0275cmp=tt({type:n,selectors:[["app-employee-info"]],decls:9,vars:4,consts:[[1,"content"],[1,"search"],["type","text","placeholder","Search employees",1,"search-box",3,"ngModelChange","input","ngModel"],[1,"employee-list"],["class","employee-item",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[1,"employee-item"],[1,"profile-container"],[1,"profile"],["alt","No Image",2,"width","30px","height","30px","border-radius","50%",3,"src"],[1,"text-container"],[1,"employee-actions"],[1,"button",3,"click"],[1,"no-data"],[1,"modal-overlay"],[1,"modal-content"],[1,"close-btn",3,"click"],[1,"text-center"],[1,"modal-body"],[1,"modal-image"],["alt","No Image",3,"src"],[1,"modal-details"],[4,"ngIf"],[1,"text-center","pt-3"],[1,"button","mx-3",3,"click"],[4,"ngFor","ngForOf"],["target","_blank","download","",3,"href"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"h1"),f(2,"Employee Information"),c(),d(3,"div",1)(4,"input",2),An("ngModelChange",function(s){return xn(r.searchQuery,s)||(r.searchQuery=s),s}),V("input",function(){return r.searchEmployee(r.searchQuery)}),c()(),d(5,"div",3),Ne(6,Ds,11,2,"div",4),c(),Ne(7,Ms,2,0,"div",5)(8,Vs,42,8,"div",6),c()),i&2&&(v(4),Mn("ngModel",r.searchQuery),v(2),N("ngForOf",r.filteredEmployees),v(),N("ngIf",(r.filteredEmployees==null?null:r.filteredEmployees.length)===0),v(),N("ngIf",r.selectedEmployee))},dependencies:[In,On,Ce,mt,Qt],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0;background-color:#f9f9f9}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100%;width:250px;background:linear-gradient(to bottom,#800020,#cca43b);color:#fff;padding:20px 10px;box-shadow:2px 0 6px #0003;overflow-y:auto}.sidebar[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;text-align:center;margin-bottom:20px;font-size:1.5em}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;text-decoration:none;padding:10px;border-radius:4px;margin:5px 0;transition:background .3s,transform .3s}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#ffffff4d;transform:scale(1.05)}.dropdown[_ngcontent-%COMP%]{position:relative}.dropdown[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:after{content:"\\25bc";float:right;margin-right:10px}.dropdown-content[_ngcontent-%COMP%]{display:none;background-color:#fff3;margin-left:10px;padding-left:20px}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.9em;padding:5px}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}.logo[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px;border-radius:50%;box-shadow:0 4px 8px #0003}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin:0 10px;font-weight:700;transition:color .3s}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ff0}.profile[_ngcontent-%COMP%]{display:flex;align-items:center}.profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;margin-left:10px}.content[_ngcontent-%COMP%]{max-width:1000px;margin:20px auto;padding:20px;border:1px solid #ddd;border-radius:10px;background-color:#fff;box-shadow:0 4px 6px #0000001a}.modal-body[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.search[_ngcontent-%COMP%]{text-align:right;margin-bottom:20px}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;width:200px;border:1px solid #ddd;border-radius:4px;transition:box-shadow .3s}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#800020;box-shadow:0 0 5px #333}.employee-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.employee[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#f4f4f4;padding:10px;border-radius:5px;box-shadow:0 2px 4px #0000001a}.employee[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:700}.employee-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.button[_ngcontent-%COMP%]{padding:5px 10px;background-color:maroon;color:#fff;text-decoration:none;border-radius:5px;border:none;cursor:pointer;transition:background-color .3s}.button[_ngcontent-%COMP%]:hover{background-color:#333}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:10px;max-width:1000px;box-shadow:0 0 10px #0000004d}.close-btn[_ngcontent-%COMP%]{color:red;font-size:30px;font-weight:700;position:absolute;top:10px;right:25px;cursor:pointer}.employee-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid #ddd}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:10px;max-width:600px;box-shadow:0 0 10px #0000004d;display:flex;gap:20px}.modal-image[_ngcontent-%COMP%]{width:40%;display:flex;justify-content:center;align-items:center}.modal-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:180px;height:180px;border-radius:50%;object-fit:cover;border:3px solid #ccc}.modal-details[_ngcontent-%COMP%]{width:60%;display:flex;flex-direction:column;justify-content:center}.modal-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.none[_ngcontent-%COMP%]{cursor:none}.profile-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center}.text-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}@media (max-width: 600px){body[_ngcontent-%COMP%]{flex-direction:column}.sidebar[_ngcontent-%COMP%]{width:100%;height:auto;position:static}.main-content[_ngcontent-%COMP%]{margin-left:0;width:100%;padding-top:20px}}.modal-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}.modal-details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:5px 0}.modal-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#800020;font-weight:700}.modal-details[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}']})}}return n})();var gr=(()=>{class n{constructor(t,i){this.firestore=t,this.storage=i}uploadFile(t,i,r){let o=`offboarding/${r}/${i}/${t.name}`,s=this.storage.ref(o),l=this.storage.upload(o,t);return H(l).pipe(Re(()=>s.getDownloadURL()))}saveOffboardingData(t,i){return this.firestore.collection("offboarding").doc(t).set(M(w({},i),{timestamp:new Date,status:"pending"}))}getOffboardingRecords(){return this.firestore.collection("offboarding").snapshotChanges().pipe(Y(t=>t.map(i=>{let r=i.payload.doc.data(),o=i.payload.doc.id;return w({id:o},r)})))}static{this.\u0275fac=function(i){return new(i||n)(x(rt),x(Je))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var La=(()=>{class n{constructor(t,i,r,o){this.route=t,this.fb=i,this.offboardService=r,this.auth=o,this.employeeId="",this.employeeName="",this.profileImageUrl="",this.offboardForm=this.fb.group({effectiveDate:["",ee.required],personalEmail:["",[ee.required,ee.email]],exitInterview:["",ee.required],automatedNotification:["",ee.required],clearanceFileUrl:[""],certificationFileUrl:[""]})}ngOnInit(){this.route.queryParams.subscribe(t=>{this.employeeId=t.id||"",this.employeeName=t.name||"No Name Provided",this.profileImageUrl=t.profileImageUrl||"picpro.jpg"})}handleFileUpload(t,i){let r=t.target.files[0];r&&this.employeeId?this.offboardService.uploadFile(r,i,this.employeeId).subscribe(o=>{let s=i==="clearance"?"clearanceFileUrl":"certificationFileUrl";this.offboardForm.patchValue({[s]:o}),console.log(`${i} uploaded successfully:`,o)},o=>{console.error("Error uploading file:",o),alert(`Failed to upload ${i}. Please try again.`)}):alert("Invalid file or missing employee ID.")}submitForm(){this.offboardForm.valid?this.auth.user.subscribe(t=>{if(t&&this.employeeId){let i=this.offboardForm.value,r=M(w({name:this.employeeName,profileImageUrl:this.profileImageUrl},i),{submittedAt:new Date});console.log("Submitting data:",r),this.offboardService.saveOffboardingData(this.employeeId,r).then(()=>{console.log("Data saved successfully"),alert("Offboarding data saved successfully!"),this.offboardForm.reset()}).catch(o=>{console.error("Error saving data:",o),alert("Failed to save offboarding data. Please try again.")})}else console.error("User not authenticated or missing employee ID"),alert("You must be logged in to submit data.")}):(alert("Please fill in all required fields"),console.log("Form invalid:",this.offboardForm.errors))}static{this.\u0275fac=function(i){return new(i||n)(h(Sn),h(Vi),h(gr),h($n))}}static{this.\u0275cmp=tt({type:n,selectors:[["app-offboard"]],decls:49,vars:3,consts:[[1,"offboarding-container"],[3,"formGroup"],[1,"form-container"],[1,"section"],[1,"form-group"],["alt","User Icon","width","100","height","100","loading","lazy",1,"user-icon","mx-auto",3,"src"],["type","date","formControlName","effectiveDate"],["type","file",3,"change"],["type","email","formControlName","personalEmail","placeholder","Email@gmail.com"],["formControlName","exitInterview"],["value",""],["value","Done"],["value","Pending"],["formControlName","automatedNotification"],["value","Yes"],["value","No"],[3,"click"]],template:function(i,r){i&1&&(d(0,"div",0)(1,"h4"),f(2,"Offboarding"),c(),d(3,"form",1)(4,"div",2)(5,"div",3)(6,"div",4),se(7,"img",5),d(8,"label"),f(9),c()(),d(10,"div",4)(11,"label"),f(12,"Effective Date Separated"),c(),se(13,"input",6),c(),d(14,"div",4)(15,"label"),f(16,"Clearance Form"),c(),d(17,"input",7),V("change",function(s){return r.handleFileUpload(s,"clearance")}),c()(),d(18,"div",4)(19,"label"),f(20,"Certifications"),c(),d(21,"input",7),V("change",function(s){return r.handleFileUpload(s,"certification")}),c()()(),d(22,"div",3)(23,"div",4)(24,"label"),f(25,"Personal Email:"),c(),se(26,"input",8),c(),d(27,"div",4)(28,"label"),f(29,"Exit Interviews"),c(),d(30,"select",9)(31,"option",10),f(32,"Select"),c(),d(33,"option",11),f(34,"Done"),c(),d(35,"option",12),f(36,"Pending"),c()()(),d(37,"div",4)(38,"label"),f(39,"Automated Notification"),c(),d(40,"select",13)(41,"option",10),f(42,"Select"),c(),d(43,"option",14),f(44,"Yes"),c(),d(45,"option",15),f(46,"No"),c()()()()()(),d(47,"button",16),V("click",function(){return r.submitForm()}),f(48,"Submit"),c()()),i&2&&(v(3),N("formGroup",r.offboardForm),v(4),N("src",r.profileImageUrl,pe),v(2),q("Name: ",r.employeeName,""))},dependencies:[Ci,Di,xi,Ce,yt,mt,hi,Jt,en],styles:["h1[_ngcontent-%COMP%]{margin:50px}.offboarding-container[_ngcontent-%COMP%]{margin-left:250px;padding:40px 20px 20px;box-sizing:border-box;overflow-y:auto}h2[_ngcontent-%COMP%]{text-align:center;font-size:28px}.form-container[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:8px;box-shadow:0 4px 10px #0000001a}h3[_ngcontent-%COMP%]{border-bottom:2px solid #ddd;padding-bottom:8px;font-size:30px}h4[_ngcontent-%COMP%]{border-bottom:2px solid #ddd;padding-bottom:35px;font-size:45px;font-weight:700}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:15px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:12px;border:1px solid #ccc;border-radius:6px;font-size:16px}.user-icon[_ngcontent-%COMP%]{width:11rem}button[_ngcontent-%COMP%]{display:block;width:100%;padding:12px;background-color:#800020;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:18px}button[_ngcontent-%COMP%]:hover{background-color:#333}"]})}}return n})();export{Ce as a,mt as b,hi as c,Br as d,Qt as e,Ci as f,yt as g,Di as h,xi as i,Zr as j,Ys as k,Zs as l,Je as m,Oa as n,mr as o,Ta as p,gr as q,La as r};
